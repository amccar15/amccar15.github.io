{"ast":null,"code":"import getSelectedBlocks from './getSelectedBlocks';\nexport default (function (strategy) {\n  return function (editorState, selection) {\n    var contentState = editorState.getCurrentContent();\n    var currentSelection = selection || editorState.getSelection();\n    var startKey = currentSelection.getStartKey();\n    var endKey = currentSelection.getEndKey();\n    var startOffset = currentSelection.getStartOffset();\n    var endOffset = currentSelection.getEndOffset();\n    var isSameBlock = startKey === endKey;\n    var selectedBlocks = getSelectedBlocks(contentState, startKey, endKey);\n    var entityFound = false; // We have to shift the offset to not get false positives when selecting\n    // a character just before or after an entity\n\n    var finalStartOffset = startOffset + 1;\n    var finalEndOffset = endOffset - 1;\n    selectedBlocks.forEach(function (block) {\n      strategy(block, function (start, end) {\n        if (entityFound) {\n          return;\n        }\n\n        var blockKey = block.getKey();\n\n        if (isSameBlock && (end < finalStartOffset || start > finalEndOffset)) {\n          return;\n        } else if (blockKey === startKey && end < finalStartOffset) {\n          return;\n        } else if (blockKey === endKey && start > finalEndOffset) {\n          return;\n        }\n\n        entityFound = true;\n      }, contentState);\n    });\n    return entityFound;\n  };\n});","map":{"version":3,"names":["getSelectedBlocks","strategy","editorState","selection","contentState","getCurrentContent","currentSelection","getSelection","startKey","getStartKey","endKey","getEndKey","startOffset","getStartOffset","endOffset","getEndOffset","isSameBlock","selectedBlocks","entityFound","finalStartOffset","finalEndOffset","forEach","block","start","end","blockKey","getKey"],"sources":["/Users/macuser/Documents/amccar15.github.io/node_modules/draft-js-utils/esm/selectionContainsEntity.js"],"sourcesContent":["import getSelectedBlocks from './getSelectedBlocks';\nexport default (function (strategy) {\n  return function (editorState, selection) {\n    var contentState = editorState.getCurrentContent();\n    var currentSelection = selection || editorState.getSelection();\n    var startKey = currentSelection.getStartKey();\n    var endKey = currentSelection.getEndKey();\n    var startOffset = currentSelection.getStartOffset();\n    var endOffset = currentSelection.getEndOffset();\n    var isSameBlock = startKey === endKey;\n    var selectedBlocks = getSelectedBlocks(contentState, startKey, endKey);\n    var entityFound = false; // We have to shift the offset to not get false positives when selecting\n    // a character just before or after an entity\n\n    var finalStartOffset = startOffset + 1;\n    var finalEndOffset = endOffset - 1;\n    selectedBlocks.forEach(function (block) {\n      strategy(block, function (start, end) {\n        if (entityFound) {\n          return;\n        }\n\n        var blockKey = block.getKey();\n\n        if (isSameBlock && (end < finalStartOffset || start > finalEndOffset)) {\n          return;\n        } else if (blockKey === startKey && end < finalStartOffset) {\n          return;\n        } else if (blockKey === endKey && start > finalEndOffset) {\n          return;\n        }\n\n        entityFound = true;\n      }, contentState);\n    });\n    return entityFound;\n  };\n});"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,qBAA9B;AACA,gBAAgB,UAAUC,QAAV,EAAoB;EAClC,OAAO,UAAUC,WAAV,EAAuBC,SAAvB,EAAkC;IACvC,IAAIC,YAAY,GAAGF,WAAW,CAACG,iBAAZ,EAAnB;IACA,IAAIC,gBAAgB,GAAGH,SAAS,IAAID,WAAW,CAACK,YAAZ,EAApC;IACA,IAAIC,QAAQ,GAAGF,gBAAgB,CAACG,WAAjB,EAAf;IACA,IAAIC,MAAM,GAAGJ,gBAAgB,CAACK,SAAjB,EAAb;IACA,IAAIC,WAAW,GAAGN,gBAAgB,CAACO,cAAjB,EAAlB;IACA,IAAIC,SAAS,GAAGR,gBAAgB,CAACS,YAAjB,EAAhB;IACA,IAAIC,WAAW,GAAGR,QAAQ,KAAKE,MAA/B;IACA,IAAIO,cAAc,GAAGjB,iBAAiB,CAACI,YAAD,EAAeI,QAAf,EAAyBE,MAAzB,CAAtC;IACA,IAAIQ,WAAW,GAAG,KAAlB,CATuC,CASd;IACzB;;IAEA,IAAIC,gBAAgB,GAAGP,WAAW,GAAG,CAArC;IACA,IAAIQ,cAAc,GAAGN,SAAS,GAAG,CAAjC;IACAG,cAAc,CAACI,OAAf,CAAuB,UAAUC,KAAV,EAAiB;MACtCrB,QAAQ,CAACqB,KAAD,EAAQ,UAAUC,KAAV,EAAiBC,GAAjB,EAAsB;QACpC,IAAIN,WAAJ,EAAiB;UACf;QACD;;QAED,IAAIO,QAAQ,GAAGH,KAAK,CAACI,MAAN,EAAf;;QAEA,IAAIV,WAAW,KAAKQ,GAAG,GAAGL,gBAAN,IAA0BI,KAAK,GAAGH,cAAvC,CAAf,EAAuE;UACrE;QACD,CAFD,MAEO,IAAIK,QAAQ,KAAKjB,QAAb,IAAyBgB,GAAG,GAAGL,gBAAnC,EAAqD;UAC1D;QACD,CAFM,MAEA,IAAIM,QAAQ,KAAKf,MAAb,IAAuBa,KAAK,GAAGH,cAAnC,EAAmD;UACxD;QACD;;QAEDF,WAAW,GAAG,IAAd;MACD,CAhBO,EAgBLd,YAhBK,CAAR;IAiBD,CAlBD;IAmBA,OAAOc,WAAP;EACD,CAlCD;AAmCD,CApCD"},"metadata":{},"sourceType":"module"}