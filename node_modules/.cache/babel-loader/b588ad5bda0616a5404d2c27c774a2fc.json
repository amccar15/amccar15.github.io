{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macuser/Documents/amccar15.github.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/macuser/Documents/amccar15.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/macuser/Documents/amccar15.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useLocation,useParams}from\"react-router-dom\";import React,{useEffect,useState}from\"react\";import{db}from'../firebase-config';import{collection,doc,getDoc}from'firebase/firestore';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function ThePost(){var _useParams=useParams(),id=_useParams.id;var postsCollectionRef=collection(db,\"posts\");var _useState=useState([]),_useState2=_slicedToArray(_useState,2),docDetails=_useState2[0],setDocDetails=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),seeAuthor=_useState4[0],setAuthor=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),authorID=_useState6[0],setAuthorID=_useState6[1];useEffect(function(){var getPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(postID){var postDoc,docSnap;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:postDoc=doc(postsCollectionRef,postID);_context.next=3;return getDoc(postDoc);case 3:docSnap=_context.sent;setDocDetails(docSnap.data());if(docSnap.exists()){console.log(\"Document data: \",docSnap.data());setAuthor(docSnap.data().author.name);setAuthorID(docSnap.data().author.name);}else{console.log(\"Error\");}case 6:case\"end\":return _context.stop();}}},_callee);}));return function getPost(_x){return _ref.apply(this,arguments);};}();getPost(id);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"homePage\",children:/*#__PURE__*/_jsx(\"div\",{className:\"post\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"post\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"postHeader\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",docDetails.title,\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"postTextContainer\",children:[\" \",docDetails.postText,\" \"]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"@\",seeAuthor]})]})})});}export default ThePost;","map":{"version":3,"names":["useLocation","useParams","React","useEffect","useState","db","collection","doc","getDoc","ThePost","id","postsCollectionRef","docDetails","setDocDetails","seeAuthor","setAuthor","authorID","setAuthorID","getPost","postID","postDoc","docSnap","data","exists","console","log","author","name","title","postText"],"sources":["/Users/macuser/Documents/amccar15.github.io/src/pages/ThePost.js"],"sourcesContent":["import { useLocation, useParams } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport { db } from '../firebase-config';\nimport { collection, doc, getDoc } from 'firebase/firestore';\n\nfunction ThePost() {\n\n    const { id } = useParams();\n\n    const postsCollectionRef = collection(db, \"posts\");\n\n    const [docDetails, setDocDetails] = useState([]);\n\n    const [seeAuthor, setAuthor] = useState([]);\n\n    const [authorID, setAuthorID] = useState([]);\n\n    useEffect(() => {\n        const getPost = async (postID) => {\n            const postDoc = doc(postsCollectionRef, postID);\n            const docSnap = await getDoc(postDoc);\n            setDocDetails(docSnap.data());\n    \n            if(docSnap.exists()) {\n                console.log(\"Document data: \", docSnap.data());\n\n                setAuthor(docSnap.data().author.name);\n                setAuthorID(docSnap.data().author.name);\n            } else {\n                console.log(\"Error\");\n            }\n        };\n        getPost(id);\n    }, []);\n    \n    return (\n        <div className=\"homePage\">\n            <div className=\"post\"> \n                <div className=\"post\"> \n                    <div className=\"postHeader\">\n                        <h1> {docDetails.title} </h1>\n                    </div>\n                    <div className=\"postTextContainer\"> {docDetails.postText} </div>\n                    <h3> \n                        @{seeAuthor}\n                    </h3>\n                </div>\n            </div>\n        </div>  \n    );\n}\n\nexport default ThePost;"],"mappings":"mZAAA,OAASA,WAAT,CAAsBC,SAAtB,KAAuC,kBAAvC,CACA,MAAOC,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,EAAT,KAAmB,oBAAnB,CACA,OAASC,UAAT,CAAqBC,GAArB,CAA0BC,MAA1B,KAAwC,oBAAxC,C,wFAEA,QAASC,QAAT,EAAmB,CAEf,eAAeR,SAAS,EAAxB,CAAQS,EAAR,YAAQA,EAAR,CAEA,GAAMC,mBAAkB,CAAGL,UAAU,CAACD,EAAD,CAAK,OAAL,CAArC,CAEA,cAAoCD,QAAQ,CAAC,EAAD,CAA5C,wCAAOQ,UAAP,eAAmBC,aAAnB,eAEA,eAA+BT,QAAQ,CAAC,EAAD,CAAvC,yCAAOU,SAAP,eAAkBC,SAAlB,eAEA,eAAgCX,QAAQ,CAAC,EAAD,CAAxC,yCAAOY,QAAP,eAAiBC,WAAjB,eAEAd,SAAS,CAAC,UAAM,CACZ,GAAMe,QAAO,4FAAG,iBAAOC,MAAP,wIACNC,OADM,CACIb,GAAG,CAACI,kBAAD,CAAqBQ,MAArB,CADP,uBAEUX,OAAM,CAACY,OAAD,CAFhB,QAENC,OAFM,eAGZR,aAAa,CAACQ,OAAO,CAACC,IAAR,EAAD,CAAb,CAEA,GAAGD,OAAO,CAACE,MAAR,EAAH,CAAqB,CACjBC,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BJ,OAAO,CAACC,IAAR,EAA/B,EAEAP,SAAS,CAACM,OAAO,CAACC,IAAR,GAAeI,MAAf,CAAsBC,IAAvB,CAAT,CACAV,WAAW,CAACI,OAAO,CAACC,IAAR,GAAeI,MAAf,CAAsBC,IAAvB,CAAX,CACH,CALD,IAKO,CACHH,OAAO,CAACC,GAAR,CAAY,OAAZ,EACH,CAZW,sDAAH,kBAAPP,QAAO,4CAAb,CAcAA,OAAO,CAACR,EAAD,CAAP,CACH,CAhBQ,CAgBN,EAhBM,CAAT,CAkBA,mBACI,YAAK,SAAS,CAAC,UAAf,uBACI,YAAK,SAAS,CAAC,MAAf,uBACI,aAAK,SAAS,CAAC,MAAf,wBACI,YAAK,SAAS,CAAC,YAAf,uBACI,0BAAME,UAAU,CAACgB,KAAjB,OADJ,EADJ,cAII,aAAK,SAAS,CAAC,mBAAf,eAAqChB,UAAU,CAACiB,QAAhD,OAJJ,cAKI,0BACMf,SADN,GALJ,GADJ,EADJ,EADJ,CAeH,CAED,cAAeL,QAAf"},"metadata":{},"sourceType":"module"}