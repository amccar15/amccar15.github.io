{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macuser/Documents/amccar15.github.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/macuser/Documents/amccar15.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/macuser/Documents/amccar15.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{addDoc,collection}from'firebase/firestore';import{db,auth}from'../firebase-config';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CreatePost(_ref){var isAuth=_ref.isAuth;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),postText=_useState4[0],setPostText=_useState4[1];var postsCollectionRef=collection(db,\"posts\");var navigate=useNavigate();var createPost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return addDoc(postsCollectionRef,{title:title,postText:postText,author:{name:auth.currentUser.displayName,id:auth.currentUser.uid}});case 2:navigate(\"/\");case 3:case\"end\":return _context.stop();}}},_callee);}));return function createPost(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(!isAuth){navigate(\"login\");}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"createPostPage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cpContainer\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Create a Post\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGp\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Title: \"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Title...\",onChange:function onChange(event){setTitle(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGp\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Post: \"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Post...\",onChange:function onChange(event){setPostText(event.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:createPost,children:\" Submit Post\"})]})});}export default CreatePost;","map":{"version":3,"names":["React","useState","useEffect","addDoc","collection","db","auth","useNavigate","CreatePost","isAuth","title","setTitle","postText","setPostText","postsCollectionRef","navigate","createPost","author","name","currentUser","displayName","id","uid","event","target","value"],"sources":["/Users/macuser/Documents/amccar15.github.io/src/pages/CreatePost.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {addDoc, collection} from 'firebase/firestore';\nimport { db, auth } from '../firebase-config';\nimport {useNavigate} from 'react-router-dom';\n\nfunction CreatePost({ isAuth }) {\n\n    const [title, setTitle] = useState(\"\");\n    const [postText, setPostText] = useState(\"\");\n\n    const postsCollectionRef = collection(db, \"posts\");\n\n    let navigate = useNavigate();\n\n    const createPost = async () => {\n        await addDoc(postsCollectionRef, {\n            title, \n            postText, \n            author: { name: auth.currentUser.displayName, id: auth.currentUser.uid }\n        });\n        navigate(\"/\");\n    };\n\n    useEffect(() => {\n        if(!isAuth) {\n            navigate(\"login\");\n        }\n    }, []);\n    return (\n        <div className=\"createPostPage\"> \n            <div className=\"cpContainer\">\n                <h1> Create a Post</h1>\n                <div className=\"inputGp\">\n                    <label> Title: </label>\n                    <input placeholder=\"Title...\" \n                        onChange={(event) => {\n                            setTitle(event.target.value)\n                            }\n                        }\n                    />\n                </div>\n                <div className=\"inputGp\">\n                    <label> Post: </label>\n                    <textarea placeholder=\"Post...\"\n                        onChange={(event) => {\n                            setPostText(event.target.value)\n                            }\n                        }\n                    />\n                </div>\n                <button onClick={createPost}> Submit Post</button>\n            </div>\n        </div>\n    );\n}\n\nexport default CreatePost;"],"mappings":"mZAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAAQC,MAAR,CAAgBC,UAAhB,KAAiC,oBAAjC,CACA,OAASC,EAAT,CAAaC,IAAb,KAAyB,oBAAzB,CACA,OAAQC,WAAR,KAA0B,kBAA1B,C,wFAEA,QAASC,WAAT,MAAgC,IAAVC,OAAU,MAAVA,MAAU,CAE5B,cAA0BR,QAAQ,CAAC,EAAD,CAAlC,wCAAOS,KAAP,eAAcC,QAAd,eACA,eAAgCV,QAAQ,CAAC,EAAD,CAAxC,yCAAOW,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,mBAAkB,CAAGV,UAAU,CAACC,EAAD,CAAK,OAAL,CAArC,CAEA,GAAIU,SAAQ,CAAGR,WAAW,EAA1B,CAEA,GAAMS,WAAU,6FAAG,2JACTb,OAAM,CAACW,kBAAD,CAAqB,CAC7BJ,KAAK,CAALA,KAD6B,CAE7BE,QAAQ,CAARA,QAF6B,CAG7BK,MAAM,CAAE,CAAEC,IAAI,CAAEZ,IAAI,CAACa,WAAL,CAAiBC,WAAzB,CAAsCC,EAAE,CAAEf,IAAI,CAACa,WAAL,CAAiBG,GAA3D,CAHqB,CAArB,CADG,QAMfP,QAAQ,CAAC,GAAD,CAAR,CANe,sDAAH,kBAAVC,WAAU,2CAAhB,CASAd,SAAS,CAAC,UAAM,CACZ,GAAG,CAACO,MAAJ,CAAY,CACRM,QAAQ,CAAC,OAAD,CAAR,CACH,CACJ,CAJQ,CAIN,EAJM,CAAT,CAKA,mBACI,YAAK,SAAS,CAAC,gBAAf,uBACI,aAAK,SAAS,CAAC,aAAf,wBACI,sCADJ,cAEI,aAAK,SAAS,CAAC,SAAf,wBACI,mCADJ,cAEI,cAAO,WAAW,CAAC,UAAnB,CACI,QAAQ,CAAE,kBAACQ,KAAD,CAAW,CACjBZ,QAAQ,CAACY,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR,CACC,CAHT,EAFJ,GAFJ,cAWI,aAAK,SAAS,CAAC,SAAf,wBACI,kCADJ,cAEI,iBAAU,WAAW,CAAC,SAAtB,CACI,QAAQ,CAAE,kBAACF,KAAD,CAAW,CACjBV,WAAW,CAACU,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACC,CAHT,EAFJ,GAXJ,cAoBI,eAAQ,OAAO,CAAET,UAAjB,0BApBJ,GADJ,EADJ,CA0BH,CAED,cAAeR,WAAf"},"metadata":{},"sourceType":"module"}