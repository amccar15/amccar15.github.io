{"ast":null,"code":"var _jsxFileName = \"/Users/macuser/Documents/amccar15.github.io/src/pages/CreatePost.js\";\nimport React, { useState, useEffect, Component } from \"react\";\nimport { addDoc } from 'firebase/firestore';\nimport { db, auth } from '../firebase-config';\nimport { useNavigate } from 'react-router-dom';\nimport { Editor } from \"react-draft-wysiwyg\";\nimport { EditorState } from \"draft-js\";\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport { async } from \"@firebase/util\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CreatePost extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onEditorStateChange = editorState => {\n      this.setState({\n        editorState\n      });\n    };\n\n    this.state = {\n      editorState: EditorState.createEmpty()\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const data = {\n      content: this.state.editorState.getCurrentContent().getPlainText()\n    };\n    this.setState({\n      editorState: EditorState.createEmpty()\n    });\n  }\n\n  render() {\n    const [title, setTitle] = useState(\"\");\n    const [postText, setPostText] = useState(\"\");\n    let navigate = useNavigate();\n\n    const createPost = async () => {\n      await addDoc(db, \"posts\", {\n        title,\n        postText,\n        author: {\n          name: auth.currentUser.displayName,\n          id: auth.currentUser.uid\n        }\n      });\n      navigate(\"/\");\n    };\n\n    useEffect(() => {\n      if (!isAuth) {\n        navigate(\"login\");\n      }\n    }, []);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"createPostPage\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cpContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Create a Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputGp\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Title: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Title...\",\n            onChange: event => {\n              setTitle(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputGp\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Post: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Editor, {\n            className: \"editor\",\n            editorState: this.state.editorState,\n            toolbarClassName: \"toolbarClassName\",\n            wrapperClassName: \"wrapperClassName\",\n            editorClassName: \"editorClassName\",\n            onEditorStateChange: this.onEditorStateChange,\n            onChange: event => setPostText(event.handleSubmit.data)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => createPost(),\n          children: \" Submit Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default CreatePost;","map":{"version":3,"names":["React","useState","useEffect","Component","addDoc","db","auth","useNavigate","Editor","EditorState","async","CreatePost","constructor","props","handleChange","e","setState","target","name","value","onEditorStateChange","editorState","state","createEmpty","handleSubmit","bind","preventDefault","data","content","getCurrentContent","getPlainText","render","title","setTitle","postText","setPostText","navigate","createPost","author","currentUser","displayName","id","uid","isAuth","event"],"sources":["/Users/macuser/Documents/amccar15.github.io/src/pages/CreatePost.js"],"sourcesContent":["import React, { useState, useEffect, Component } from \"react\";\nimport { addDoc } from 'firebase/firestore';\nimport { db, auth } from '../firebase-config';\nimport { useNavigate } from 'react-router-dom';\nimport { Editor } from \"react-draft-wysiwyg\";\nimport { EditorState } from \"draft-js\";\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport { async } from \"@firebase/util\";\n\nclass CreatePost extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            editorState: EditorState.createEmpty()\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange = (e) => {\n        this.setState({[e.target.name]: e.target.value})\n    }\n\n    onEditorStateChange = (editorState) => {\n        this.setState({\n            editorState\n        });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n\n        const data = {\n            content: this.state.editorState.getCurrentContent().getPlainText()\n        }\n\n        this.setState({editorState: EditorState.createEmpty()})\n    }\n    render() {\n        const [title, setTitle] = useState(\"\");\n        const [postText, setPostText] = useState(\"\");\n\n        let navigate = useNavigate();\n\n        const createPost = async () => {\n            await addDoc(db, \"posts\", {\n                title, \n                postText,\n                author: { name: auth.currentUser.displayName, id: auth.currentUser.uid },\n            });\n            navigate(\"/\");\n        }\n        useEffect(() => {\n            if(!isAuth) {\n                navigate(\"login\");\n            }\n        }, []);\n\n        return (\n            <div className=\"createPostPage\"> \n            <div className=\"cpContainer\">\n                <h1> Create a Post</h1>\n                <div className=\"inputGp\">\n                    <label> Title: </label>\n                    <input placeholder=\"Title...\" \n                        onChange={(event) => {\n                            setTitle(event.target.value)\n                            }\n                        }\n                    />\n                </div>\n                <div className=\"inputGp\">\n                    <label> Post: </label>\n                    <Editor className=\"editor\"\n                        editorState={this.state.editorState}\n                        toolbarClassName=\"toolbarClassName\"\n                        wrapperClassName=\"wrapperClassName\"\n                        editorClassName=\"editorClassName\" \n                       onEditorStateChange={this.onEditorStateChange}\n                       onChange={(event) => setPostText(event.handleSubmit.data)}\n                    />        \n                </div>\n                <button onClick={() => createPost()}> Submit Post</button>\n            </div>\n        </div>\n        );\n    }\n}\n\nexport default CreatePost;"],"mappings":"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"},"metadata":{},"sourceType":"module"}