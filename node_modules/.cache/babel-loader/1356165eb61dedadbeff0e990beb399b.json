{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macuser/Documents/amccar15.github.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/macuser/Documents/amccar15.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/macuser/Documents/amccar15.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams}from\"react-router-dom\";import React,{useEffect,useState}from\"react\";import{db}from'../firebase-config';import{collection,doc,getDoc}from'firebase/firestore';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function ThePost(){var _useParams=useParams(),id=_useParams.id;var postsCollectionRef=collection(db,\"posts\");var _useState=useState([]),_useState2=_slicedToArray(_useState,2),docDetails=_useState2[0],setDocDetails=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),seeAuthor=_useState4[0],setAuthor=_useState4[1];useEffect(function(){var getPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(postID){var postDoc,docSnap;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:postDoc=doc(postsCollectionRef,postID);_context.next=3;return getDoc(postDoc);case 3:docSnap=_context.sent;setDocDetails(docSnap.data());if(docSnap.exists()){console.log(\"Document data: \",docSnap.data());setAuthor(docSnap.data().author.name);}else{console.log(\"Error\");}case 6:case\"end\":return _context.stop();}}},_callee);}));return function getPost(_x){return _ref.apply(this,arguments);};}();getPost(id);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"thePost\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"postHeader\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",docDetails.title,\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"postTextContainer\",children:[\" \",docDetails.postText,\" \"]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"@\",seeAuthor]})]});}export default ThePost;","map":{"version":3,"names":["useParams","React","useEffect","useState","db","collection","doc","getDoc","ThePost","id","postsCollectionRef","docDetails","setDocDetails","seeAuthor","setAuthor","getPost","postID","postDoc","docSnap","data","exists","console","log","author","name","title","postText"],"sources":["/Users/macuser/Documents/amccar15.github.io/src/pages/ThePost.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport { db } from '../firebase-config';\nimport { collection, doc, getDoc } from 'firebase/firestore';\n\nfunction ThePost() {\n\n    const { id } = useParams();\n\n    const postsCollectionRef = collection(db, \"posts\");\n\n    const [docDetails, setDocDetails] = useState([]);\n\n    const [seeAuthor, setAuthor] = useState([]);\n\n    useEffect(() => {\n        const getPost = async (postID) => {\n            const postDoc = doc(postsCollectionRef, postID);\n            const docSnap = await getDoc(postDoc);\n            setDocDetails(docSnap.data());\n    \n            if(docSnap.exists()) {\n                console.log(\"Document data: \", docSnap.data());\n\n                setAuthor(docSnap.data().author.name);\n            } else {\n                console.log(\"Error\");\n            }\n        };\n        getPost(id);\n    }, []);\n    \n    return (\n        <div className=\"thePost\"> \n            <div className=\"postHeader\">\n                <h1> {docDetails.title} </h1>\n            </div>\n            <div className=\"postTextContainer\"> {docDetails.postText} </div>\n                <h3> \n                    @{seeAuthor}\n                </h3>\n            </div>\n    );\n}\n\nexport default ThePost;"],"mappings":"mZAAA,OAASA,SAAT,KAA0B,kBAA1B,CACA,MAAOC,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,EAAT,KAAmB,oBAAnB,CACA,OAASC,UAAT,CAAqBC,GAArB,CAA0BC,MAA1B,KAAwC,oBAAxC,C,wFAEA,QAASC,QAAT,EAAmB,CAEf,eAAeR,SAAS,EAAxB,CAAQS,EAAR,YAAQA,EAAR,CAEA,GAAMC,mBAAkB,CAAGL,UAAU,CAACD,EAAD,CAAK,OAAL,CAArC,CAEA,cAAoCD,QAAQ,CAAC,EAAD,CAA5C,wCAAOQ,UAAP,eAAmBC,aAAnB,eAEA,eAA+BT,QAAQ,CAAC,EAAD,CAAvC,yCAAOU,SAAP,eAAkBC,SAAlB,eAEAZ,SAAS,CAAC,UAAM,CACZ,GAAMa,QAAO,4FAAG,iBAAOC,MAAP,wIACNC,OADM,CACIX,GAAG,CAACI,kBAAD,CAAqBM,MAArB,CADP,uBAEUT,OAAM,CAACU,OAAD,CAFhB,QAENC,OAFM,eAGZN,aAAa,CAACM,OAAO,CAACC,IAAR,EAAD,CAAb,CAEA,GAAGD,OAAO,CAACE,MAAR,EAAH,CAAqB,CACjBC,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BJ,OAAO,CAACC,IAAR,EAA/B,EAEAL,SAAS,CAACI,OAAO,CAACC,IAAR,GAAeI,MAAf,CAAsBC,IAAvB,CAAT,CACH,CAJD,IAIO,CACHH,OAAO,CAACC,GAAR,CAAY,OAAZ,EACH,CAXW,sDAAH,kBAAPP,QAAO,4CAAb,CAaAA,OAAO,CAACN,EAAD,CAAP,CACH,CAfQ,CAeN,EAfM,CAAT,CAiBA,mBACI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,YAAf,uBACI,0BAAME,UAAU,CAACc,KAAjB,OADJ,EADJ,cAII,aAAK,SAAS,CAAC,mBAAf,eAAqCd,UAAU,CAACe,QAAhD,OAJJ,cAKQ,0BACMb,SADN,GALR,GADJ,CAWH,CAED,cAAeL,QAAf"},"metadata":{},"sourceType":"module"}